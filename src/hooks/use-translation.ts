'use client';

import { useLanguage } from '@/context/language-context';

const categoryMapping: Record<string, string> = {
  'مكياج': 'Makeup',
  'المكياج': 'Makeup',
  'العناية بالبشرة': 'Skincare',
  'العناية بالشعر': 'Haircare',
  'الفيتامينات': 'Vitamins',
  'الحقائب': 'Bags',
  'الساعات': 'Watches',
  'ساعات': 'Watches',
  'عطور': 'Perfumes',
  'نظارات': 'Eyewear',
};

const translations = {
  ar: {
    home: 'الرئيسية',
    categories: 'الأقسام',
    cart: 'السلة',
    search: 'بحث',
    admin: 'لوحة التحكم',
    login: 'تسجيل الدخول',
    logout: 'تسجيل الخروج',
    shopByCategory: 'تسوق حسب القسم',
    administration: 'الإدارة',
    sessionWarning: 'الجلسة غير مكتشفة - يرجى الفتح في نافذة جديدة',
    adminIndicator: 'المشرف',
    langToggle: 'EN',
    latestProducts: 'أحدث المنتجات',
    exploreMore: 'اكتشف المزيد',
    exclusiveFromUSA: 'مجموعة حصرية من أمريكا',
    elevateDaily: 'ارتقِ بأساسياتك اليومية',
    luxurySelection: 'اكتشفي مجموعتنا الفاخرة من منتجات التجميل وأسلوب الحياة من الولايات المتحدة الأمريكية مباشرة.',
    shopCollection: 'تسوق المجموعة',
    manageStore: 'إدارة المتجر',
    carefullySelected: 'مجموعاتنا المختارة بعناية لتناسب ذوقك الرفيع',
    exploreAll: 'استكشف الكل',
    latestArrivals: 'اكتشف آخر ما وصل إلينا من ماركات عالمية فاخرة',
    emptyStock: 'المخزون فارغ حالياً. ابدأ بإضافة المنتجات.',
    comeBackLater: 'لا توجد منتجات حالياً. يرجى العودة لاحقاً.',
    addFirstProduct: 'أضف أول منتج',
    categoryNotFound: 'القسم غير موجود',
    sorryCategoryNotFound: 'عذراً، لم نتمكن من العظور على القسم المطلوب.',
    backToHome: 'العودة للرئيسية',
    browseOurCollection: 'تصفح مجموعتنا المختارة من أفضل المنتجات المستوردة حصرياً.',
    noProductsInCategory: 'لا توجد منتجات حالياً في هذا القسم.',
    allProducts: 'جميع المنتجات',
    allProductsDesc: 'استكشف مجموعتنا الكاملة من المنتجات المختارة بعناية لتناسب أرقى الأذواق.',
    aboutProduct: 'عن المنتج',
    orderOnWhatsapp: 'اطلب عبر واتساب',
    secureContact: 'تواصل مباشر وآمن مع دعم حرير بوتيك USA.',
    new: 'جديد',
    addToCart: 'أضف للسلة',
    price: 'السعر',
    save: 'حفظ',
    cancel: 'إلغاء',
    edit: 'تعديل',
    delete: 'حذف',
    confirmDelete: 'هل أنت متأكد من الحذف؟',
    productAdded: 'تمت إضافة المنتج بنجاح',
    productUpdated: 'تم تحديث المنتج بنجاح',
    categoryAdded: 'تمت إضافة القسم بنجاح',
    categoryUpdated: 'تم تحديث القسم بنجاح',
    errorOccurred: 'حدث خطأ ما',
    insufficientPermissions: 'عذراً، لا تملك صلاحية الحذف',
    backToDashboard: 'العودة للوحة التحكم',
    manageCategories: 'إدارة الأقسام',
    addNewCategory: 'إضافة قسم جديد',
    categoryNameAr: 'الاسم (بالعربية)',
    categoryNameEn: 'الاسم (بالإنجليزية)',
    categorySlug: 'المعرف (Slug)',
    displayOrder: 'ترتيب العرض',
    categoryList: 'قائمة الأقسام',
    actions: 'الإجراءات',
    addNewProduct: 'إضافة منتج جديد',
    productName: 'الاسم (بالعربية)',
    productNameEn: 'الاسم (بالإنجليزية)',
    productPrice: 'السعر ($)',
    productCategory: 'القسم',
    productImage: 'رابط الصورة',
    productDescription: 'الوصف (بالعربية)',
    productDescriptionEn: 'الوصف (بالإنجليزية)',
    generateAiDescription: 'توليد الوصف بالذكاء الاصطناعي',
    productList: 'قائمة المنتجات',
    siteSettings: 'إعدادات الموقع',
    heroBannerImage: 'صورة الـ Hero Banner',
    footerDesc: 'وجهتك لمنتجات التجميل والعافية والأساسيات الفاخرة. مختارة بعناية للأناقة والجودة من أمريكا إليك مباشرة.',
    information: 'معلومات',
    support: 'الدعم',
    aboutStore: 'عن المتجر',
    privacyPolicy: 'سياسة الخصوصية',
    termsOfUse: 'شروط الاستخدام',
    contactUs: 'تواصل معنا',
    shipping: 'الشحن والتوصيل',
    allRightsReserved: 'جميع الحقوق محفوظة.',
    instagram: 'إنستغرام',
    facebook: 'فيسبوك',
    whatsapp: 'واتساب',
    loginTitle: 'تسجيل الدخول',
    loginSubtitle: 'أهلاً بك مجدداً في حرير بوتيك USA',
    email: 'البريد الإلكتروني',
    password: 'كلمة المرور',
    loginBtn: 'دخول',
    registerLink: 'إنشاء حساب جديد',
    phoneLogin: 'رقم الهاتف (الولايات المتحدة)',
    emailLogin: 'بريد إلكتروني',
    phoneLabel: 'رقم الهاتف (بدون كود الدولة)',
    otpLabel: 'كود التحقق',
    sendCode: 'إرسال الكود',
    verifyAndConfirm: 'تحقق وتأكيد',
    googleLogin: 'متابعة باستخدام Google',
    or: 'أو',
    registerTitle: 'مستخدم جديد',
    registerSubtitle: 'انضم إلينا واستمتع بتجربة تسوق فريدة',
    fullName: 'الاسم الكامل',
    registerBtn: 'إنشاء الحساب',
    alreadyHaveAccount: 'لديك حساب بالفعل؟',
    profileTitle: 'بيانات التوصيل',
    profileTitleEdit: 'تعديل الملف الشخصي',
    profileSubtitle: 'نحتاج هذه البيانات لتسهيل عملية وصول مشترياتك لباب منزلك.',
    profileSubtitleEdit: 'تأكد من أن عنوان التوصيل ورقم الهاتف صحيحين دائماً.',
    deliveryAddress: 'عنوان التوصيل بالتفصيل',
    addressPlaceholder: 'المدينة، الحي، اسم الشارع، رقم المبنى...',
    saveAndContinue: 'حفظ والمتابعة',
    saveChanges: 'حفظ التغييرات',
    phonePlaceholder: 'XXXXXXXXXX',
    namePlaceholder: 'أدخل اسمك بالكامل',
    phoneInUse: 'رقم الهاتف هذا مسجل مسبقاً.',
    profileUpdated: 'تم حفظ بياناتك بنجاح.',
    adminDashboard: 'لوحة التحكم',
    products: 'المنتجات',
    settings: 'الإعدادات',
    productNameLabel: 'الاسم (AR)',
    productNameEnLabel: 'الاسم (EN)',
    priceLabel: 'السعر',
    imageLabel: 'الصورة',
    categoryLabel: 'القسم',
    descriptionLabel: 'الوصف (AR)',
    descriptionEnLabel: 'الوصف (EN)',
    saveProduct: 'حفظ المنتج',
    updateProduct: 'تحديث المنتج',
    editCategory: 'تعديل القسم',
    updateHero: 'تحديث صورة الهيرو',
    chooseCategory: 'اختر القسم...',
    aiDescriptionSuccess: 'تم إنشاء الوصف بواسطة الذكاء الاصطناعي.',
    aiDescriptionError: 'فشل في توليد الوصف.',
    heroUpdated: 'تم تغيير صورة الـ Hero Banner بنجاح.',
    productDeleted: 'تم إزالة المنتج بنجاح.',
    categoryDeleted: 'تم إزالة القسم بنجاح.',
    confirmDeleteProduct: 'هل أنت متأكد من حذف هذا المنتج؟',
    noProductsFound: 'لا توجد منتجات حالياً.',
    hide: 'إخفاء',
    show: 'إظهار',
    hidden: 'مخفي',
    visible: 'مرئي',
    stock: 'المخزون',
    addProductTitle: 'إضافة منتج جديد',
    shoppingCart: 'سلة التسوق',
    cartEmpty: 'سلتك فارغة حالياً',
    startShopping: 'ابدأ التسوق الآن',
    orderSummary: 'ملخص الطلب',
    subtotal: 'المجموع الفرعي',
    shippingFee: 'رسوم التوصيل',
    free: 'مجاني',
    total: 'المجموع الكلي',
    checkout: 'إتمام الشراء',
    remove: 'إزالة',
    items: 'قطع',
    shippingInfo: 'بيانات الشحن',
    city: 'المدينة',
    stateLabel: 'الولاية',
    selectState: 'اختر الولاية',
    shippingCalcPending: 'يتم التحديد بعد اختيار الولاية',
    detailedAddressLabel: 'العنوان بالتفصيل',
    placeOrder: 'تأكيد الطلب الآن',
    checkoutTitle: 'إتمام الطلب',
    yourOrder: 'طلبك',
    completeFields: 'يرجى إكمال كافة الحقول',
    manageOrders: 'إدارة الطلبات',
    orderList: 'قائمة الطلبات',
    orderId: 'رقم الطلب',
    orderDate: 'التاريخ',
    viewDetails: 'عرض التفاصيل',
    updateStatus: 'تحديث الحالة',
    pending: 'قيد الانتظار',
    processing: 'جاري المعالجة',
    shipped: 'تم الشحن',
    delivered: 'تم التوصيل',
    cancelled: 'ملغي',
    outOfStockError: 'نعتذر، هذا المنتج غير متوفر حالياً',
    outOfStockErrorEn: 'Sorry, this product is currently out of stock',
    phoneNumber: 'رقم الهاتف (الولايات المتحدة)',
    phoneNumberUSA: 'رقم الهاتف (USA)',
    manageShipping: 'إدارة تكاليف الشحن',
    shippingRates: 'أسعار الشحن',
    rate: 'السعر ($)',
    searchState: 'ابحث عن ولاية...',
    saveShippingRates: 'حفظ أسعار الشحن',
    shippingRatesUpdated: 'تم تحديث أسعار الشحن بنجاح',
    initializeDatabase: 'تهيئة قاعدة البيانات',
    databaseInitialized: 'تمت تهيئة قاعدة البيانات بنجاح',
    printInvoice: 'طباعة فاتورة',
    invoice: 'فاتورة',
    invoiceDate: 'تاريخ الفاتورة',
    billTo: 'فاتورة إلى',
    thankYouPurchase: 'شكراً لتسوقكم معنا! نحن نقدر ثقتكم في HarirBoutiqueUSA.',
    customerService: 'خدمة العملاء',
    calculatedAtCheckout: 'تُحسب عند الدفع',
  },
  en: {
    home: 'Home',
    categories: 'Categories',
    cart: 'Cart',
    search: 'Search',
    admin: 'Dashboard',
    login: 'Login',
    logout: 'Logout',
    shopByCategory: 'Shop by Category',
    administration: 'Administration',
    sessionWarning: 'Session not detected - please open in a new tab',
    adminIndicator: 'Admin',
    langToggle: 'العربية',
    latestProducts: 'Latest Products',
    exploreMore: 'Explore More',
    exclusiveFromUSA: 'Exclusive collection from USA',
    elevateDaily: 'Elevate your daily essentials',
    luxurySelection: 'Discover our luxury selection of beauty and lifestyle products from the USA.',
    shopCollection: 'Shop Collection',
    manageStore: 'Manage Store',
    carefullySelected: 'Our carefully selected collections to suit your refined taste',
    exploreAll: 'Explore All',
    latestArrivals: 'Discover our latest arrivals from luxury international brands',
    emptyStock: 'Stock is currently empty. Start adding products.',
    comeBackLater: 'No products available. Please come back later.',
    addFirstProduct: 'Add First Product',
    categoryNotFound: 'Category Not Found',
    sorryCategoryNotFound: 'Sorry, we couldn\'t find the requested category.',
    backToHome: 'Back to Home',
    browseOurCollection: 'Browse our selected collection of exclusive imported products.',
    noProductsInCategory: 'No products currently in this category.',
    allProducts: 'All Products',
    allProductsDesc: 'Explore our full collection of carefully selected products.',
    aboutProduct: 'About Product',
    orderOnWhatsapp: 'Order on WhatsApp',
    secureContact: 'Direct and secure contact with Harir Boutique USA support.',
    new: 'New',
    addToCart: 'Add to Cart',
    price: 'Price',
    save: 'Save',
    cancel: 'Cancel',
    edit: 'Edit',
    delete: 'Delete',
    confirmDelete: 'Are you sure you want to delete?',
    productAdded: 'Product added successfully',
    productUpdated: 'Product updated successfully',
    categoryAdded: 'Category added successfully',
    categoryUpdated: 'Category updated successfully',
    errorOccurred: 'An error occurred',
    insufficientPermissions: 'Sorry, you do not have permission to delete',
    backToDashboard: 'Back to Dashboard',
    manageCategories: 'Manage Categories',
    addNewCategory: 'Add New Category',
    categoryNameAr: 'Name (AR)',
    categoryNameEn: 'Name (EN)',
    categorySlug: 'Slug',
    displayOrder: 'Display Order',
    categoryList: 'Category List',
    actions: 'Actions',
    addNewProduct: 'Add New Product',
    productName: 'Name (AR)',
    productNameEn: 'Name (EN)',
    productPrice: 'Price ($)',
    productCategory: 'Category',
    productImage: 'Image URL',
    productDescription: 'Description (AR)',
    productDescriptionEn: 'Description (EN)',
    generateAiDescription: 'Generate AI Description',
    productList: 'Product List',
    siteSettings: 'Site Settings',
    heroBannerImage: 'Hero Banner Image',
    footerDesc: 'Your destination for beauty, wellness, and luxury essentials. Carefully selected for elegance and quality directly from America.',
    information: 'Information',
    support: 'Support',
    aboutStore: 'About Store',
    privacyPolicy: 'Privacy Policy',
    termsOfUse: 'Terms of Use',
    contactUs: 'Contact Us',
    shipping: 'Shipping & Delivery',
    allRightsReserved: 'All rights reserved.',
    instagram: 'Instagram',
    facebook: 'Facebook',
    whatsapp: 'WhatsApp',
    loginTitle: 'Login',
    loginSubtitle: 'Welcome back to Harir Boutique USA',
    email: 'Email',
    password: 'Password',
    loginBtn: 'Login',
    registerLink: 'Create New Account',
    phoneLogin: 'Phone Number (USA)',
    emailLogin: 'Email Address',
    phoneLabel: 'Phone Number (without country code)',
    otpLabel: 'Verification Code',
    sendCode: 'Send Code',
    verifyAndConfirm: 'Verify and Confirm',
    googleLogin: 'Continue with Google',
    or: 'OR',
    registerTitle: 'New User',
    registerSubtitle: 'Join us and enjoy a unique shopping experience',
    fullName: 'Full Name',
    registerBtn: 'Create Account',
    alreadyHaveAccount: 'Already have an account?',
    profileTitle: 'Delivery Details',
    profileTitleEdit: 'Edit Profile',
    profileSubtitle: 'We need this information to ensure your purchases reach your doorstep smoothly.',
    profileSubtitleEdit: 'Make sure your delivery address and phone number are always correct.',
    deliveryAddress: 'Detailed Delivery Address',
    addressPlaceholder: 'City, District, Street Name, Building Number...',
    saveAndContinue: 'Save and Continue',
    saveChanges: 'Save Changes',
    phonePlaceholder: 'XXXXXXXXXX',
    namePlaceholder: 'Enter your full name',
    phoneInUse: 'This phone number is already registered.',
    profileUpdated: 'Your profile has been saved successfully.',
    adminDashboard: 'Admin Dashboard',
    products: 'Products',
    settings: 'Settings',
    productNameLabel: 'Name (AR)',
    productNameEnLabel: 'Name (EN)',
    priceLabel: 'Price',
    imageLabel: 'Image URL',
    categoryLabel: 'Category',
    descriptionLabel: 'Description (AR)',
    descriptionEnLabel: 'Description (EN)',
    saveProduct: 'Save Product',
    updateProduct: 'Update Product',
    editCategory: 'Edit Category',
    updateHero: 'Update Hero',
    chooseCategory: 'Choose category...',
    aiDescriptionSuccess: 'Description generated by AI.',
    aiDescriptionError: 'Failed to generate description.',
    heroUpdated: 'Hero Banner updated successfully.',
    productDeleted: 'Product removed successfully.',
    categoryDeleted: 'Category removed successfully.',
    confirmDeleteProduct: 'Are you sure you want to delete this product?',
    noProductsFound: 'No products found currently.',
    hide: 'Hide',
    show: 'Show',
    hidden: 'Hidden',
    visible: 'Visible',
    stock: 'Stock',
    addProductTitle: 'Add New Product',
    shoppingCart: 'Shopping Cart',
    cartEmpty: 'Your cart is currently empty',
    startShopping: 'Start Shopping Now',
    orderSummary: 'Order Summary',
    subtotal: 'Subtotal',
    shippingFee: 'Shipping Fee',
    free: 'Free',
    total: 'Grand Total',
    checkout: 'Checkout',
    remove: 'Remove',
    items: 'items',
    shippingInfo: 'Shipping Info',
    city: 'City',
    stateLabel: 'State',
    selectState: 'Select State',
    shippingCalcPending: 'Select state to calculate',
    detailedAddressLabel: 'Detailed Address',
    placeOrder: 'Place Order Now',
    checkoutTitle: 'Checkout',
    yourOrder: 'Your Order',
    completeFields: 'Please complete all fields',
    manageOrders: 'Manage Orders',
    orderList: 'Order List',
    orderId: 'Order ID',
    orderDate: 'Date',
    viewDetails: 'View Details',
    updateStatus: 'Update Status',
    pending: 'Pending',
    processing: 'Processing',
    shipped: 'Shipped',
    delivered: 'Delivered',
    cancelled: 'Cancelled',
    outOfStockError: 'Sorry, this product is currently out of stock',
    outOfStockErrorEn: 'Sorry, this product is currently out of stock',
    phoneNumber: 'Phone Number (USA)',
    phoneNumberUSA: 'Phone Number (USA)',
    manageShipping: 'Shipping Rates Management',
    shippingRates: 'Shipping Rates',
    rate: 'Rate ($)',
    searchState: 'Search for a state...',
    saveShippingRates: 'Save Shipping Rates',
    shippingRatesUpdated: 'Shipping rates updated successfully',
    initializeDatabase: 'Initialize Database',
    databaseInitialized: 'Database initialized successfully',
    printInvoice: 'Print Invoice',
    invoice: 'Invoice',
    invoiceDate: 'Invoice Date',
    billTo: 'Bill To',
    thankYouPurchase: 'Thank you for shopping with us! We appreciate your trust in HarirBoutiqueUSA.',
    customerService: 'Customer Service',
    calculatedAtCheckout: 'Calculated at checkout',
  }
};

export function useTranslation() {
  const { lang, toggleLang } = useLanguage();

  const getTranslatedCategory = (categoryName: string) => {
    if (!categoryName) return '';
    if (lang === 'ar') return categoryName;
    return categoryMapping[categoryName] || categoryMapping[categoryName.trim()] || categoryName;
  };

  return { t: translations[lang], lang, toggleLang, getTranslatedCategory };
}
